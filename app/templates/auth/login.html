{% extends "base.html" %}

{% block title %}Авторизация{% endblock title %}

{% block content %}
    <div class="login-container">
        <p class="paragraph">Авторизация</p>
        <form method="POST" action="{{ url_for('auth.login', next=request.args.get('next', '')) }}">
            <div class="form-group">
                <i class="fa fa-user" style="left: 14px;"></i>
                <input
                    type="text"
                    name="login"
                    placeholder="Логин"
                    value="{{ login | default('') }}"
                    autocomplete="off"
                    required
                />
            </div>
            <div class="form-group" style="margin-bottom: 10px;">
                <i class="fa fa-lock" style="left: 14px;"></i>
                <input
                    type="password"
                    name="password"
                    placeholder="Пароль"
                    value="{{ password | default('') }}"
                    autocomplete="off"
                    required
                />
                <i class="fa fa-eye toggle-password"></i>
            </div>
            <a href="{{ url_for('auth.register') }}" class="setup-password-link">Получили логин? Установите пароль</a>
            <button type="submit" class="default-button login-button">Вход в систему</button>
        </form>
    </div>

    <div class="flashed-messages" style="width: 480px;">
        {% for category, message in get_flashed_messages(with_categories=true) %}
            <div class="{{ category }}" id="message">
                <p>{{ message }}</p>
            </div>
        {% endfor %}
    </div>
{% endblock content %}
